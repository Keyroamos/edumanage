import{u as x,j as e,f as g,r as f,O as m}from"./vendor-Cr6tcs86.js";import{u as b,T as u,B as k,a as j}from"./index-wvMzqk1Z.js";import{D as v,X as N,ag as w,U as y,F as C,a2 as S,a8 as z,aA as L,W as O,aB as F,L as A,i as T,k as E,l as B}from"./ui-BBn2VFCU.js";const r=({icon:o,label:a,path:n,onClick:i})=>{const l=g(),s=l.pathname===n||l.pathname.startsWith(`${n}/`);return e.jsxs("button",{onClick:i,className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 ${s?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-semibold shadow-sm border border-indigo-100 dark:border-indigo-800":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[e.jsx(o,{size:18,className:s?"text-indigo-600 dark:text-indigo-400":"text-slate-400 dark:text-slate-500"}),e.jsx("span",{className:"text-sm",children:a}),s&&e.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-indigo-600 dark:bg-indigo-400"})]})},U=({isOpen:o,onClose:a,user:n,onLogout:i})=>{const l=x(),{config:s}=b(),d=s?.subscription?.plan||"Basic",h=s?.subscription?.status,c=(d==="Enterprise"||h==="Trial")&&d!=="Standard",t=p=>{l(p),a&&a()};return e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/20 backdrop-blur-[2px] z-40 lg:hidden",onClick:a}),e.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50 w-72 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 transform transition-transform duration-300 ease-[cubic-bezier(0.23,1,0.32,1)]
        ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        flex flex-col h-full shadow-2xl lg:shadow-none
      `,children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/20 text-white overflow-hidden",children:s.school_logo?e.jsx("img",{src:s.school_logo,alt:"School Logo",className:"h-full w-full object-cover"}):e.jsx(v,{size:20})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white tracking-tight block",children:s.school_name}),e.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold tracking-widest uppercase",children:"Console"})]})]}),e.jsx("button",{className:"lg:hidden p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",onClick:a,children:e.jsx(N,{size:20,className:"text-slate-500 dark:text-slate-400"})})]}),e.jsxs("div",{className:"p-4 space-y-1 overflow-y-auto flex-1 no-scrollbar",children:[e.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em]",children:"General"}),e.jsx(r,{icon:w,label:"Overview",path:"/finance-portal/dashboard",onClick:()=>t("/finance-portal/dashboard")}),e.jsx(r,{icon:y,label:"Accounts",path:"/finance-portal/accounts",onClick:()=>t("/finance-portal/accounts")}),e.jsx(r,{icon:C,label:"Ledger",path:"/finance-portal/transactions",onClick:()=>t("/finance-portal/transactions")}),e.jsx(r,{icon:S,label:"Expenses",path:"/finance-portal/expenses",onClick:()=>t("/finance-portal/expenses")}),e.jsx(r,{icon:z,label:"Analytics",path:"/finance-portal/reports",onClick:()=>t("/finance-portal/reports")}),e.jsx("div",{className:"px-4 py-2 mt-6 text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em]",children:"Specialized"}),c&&e.jsx(r,{icon:L,label:"Fleet Ops",path:"/finance-portal/transport-expenses",onClick:()=>t("/finance-portal/transport-expenses")}),e.jsx(r,{icon:O,label:"Payroll",path:"/finance-portal/salaries",onClick:()=>t("/finance-portal/salaries")}),c&&e.jsx(r,{icon:F,label:"Cafeteria",path:"/finance-portal/food",onClick:()=>t("/finance-portal/food")})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50/30 dark:bg-slate-900/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 p-2.5 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold text-xs ring-2 ring-white dark:ring-slate-800",children:n.first_name?.[0]?.toUpperCase()||"A"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:"Finance Staff"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Standard Access"})]}),e.jsx(u,{})]}),e.jsxs(k,{onClick:i,variant:"ghost",className:"w-full justify-start text-rose-500 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 hover:text-rose-600 h-11 px-6 rounded-xl border border-transparent hover:border-rose-100 dark:hover:border-rose-900/30",children:[e.jsx(A,{size:18,className:"mr-2"}),"Log Out"]})]})]})]})},W=()=>{const[o,a]=f.useState(!1),n=x(),{isLocked:i}=b(),l=JSON.parse(localStorage.getItem("user")||"{}"),s=i(),d=()=>{localStorage.removeItem("user"),n("/login")};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex overflow-hidden transition-colors duration-200",children:[s&&e.jsx(j,{}),e.jsx(U,{isOpen:o,onClose:()=>a(!1),user:l,onLogout:d}),e.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden relative",children:[e.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 sticky top-0 z-30 px-6 py-3 flex justify-between items-center h-16 transition-colors duration-200",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{className:"lg:hidden p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-600 dark:text-slate-400 transition-colors",onClick:()=>a(!0),children:e.jsx(T,{size:24})})}),e.jsxs("div",{className:"flex items-center space-x-3 md:space-x-6",children:[e.jsx("div",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 text-[10px] font-bold rounded-full border border-indigo-200 dark:border-indigo-800 uppercase tracking-wider",children:"Finance Authority"}),e.jsxs("button",{className:"relative p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors",children:[e.jsx(E,{size:20}),e.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-red-500 border-2 border-white dark:border-slate-900"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 p-1.5 rounded-xl transition-colors",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold border border-slate-200 dark:border-slate-700",children:l.first_name?.[0]?.toUpperCase()}),e.jsx(B,{size:16,className:"text-slate-400 dark:text-slate-500"})]})]})]}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-slate-50 dark:bg-slate-900 scroll-smooth",children:e.jsx(m,{})})]})]})};export{W as default};
