import{r as a,u as h,e as g,j as e}from"./vendor-Cr6tcs86.js";import{B as f}from"./index-DR2ymqTX.js";import{j as p,m as j,ai as k,U as N}from"./ui-BBn2VFCU.js";const S=()=>{const[n,r]=a.useState([]),[o,i]=a.useState(!0),[s,c]=a.useState(""),x=h();a.useEffect(()=>{m()},[]);const m=async()=>{try{const t=await g.get("/api/transport/students/");r(t.data.students||[])}catch(t){console.error(t),r([])}finally{i(!1)}},l=(n||[]).filter(t=>t.name?.toLowerCase().includes(s.toLowerCase())||t.admission_number?.toLowerCase().includes(s.toLowerCase())||t.grade?.toLowerCase().includes(s.toLowerCase())),u=t=>t<0?"text-emerald-600 dark:text-emerald-400":t>0?"text-red-600 dark:text-red-400":"text-slate-600 dark:text-slate-400",b=t=>t<0?{text:"Credit",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"}:t>0?{text:"Owing",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}:{text:"Clear",color:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"};return o?e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 animate-fade-in-up",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Transport Students"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage student transport accounts"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, admission number, or grade...",value:s,onChange:t=>c(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(t=>{const d=b(t.balance);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[t.photo?e.jsx("img",{src:t.photo,alt:t.name,className:"w-16 h-16 rounded-full object-cover border-2 border-blue-100 dark:border-blue-900"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:e.jsx(j,{size:32})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white truncate",children:t.name}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t.admission_number}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:t.grade})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Balance"}),e.jsxs("span",{className:`text-lg font-black font-mono ${u(t.balance)}`,children:["KES ",Math.abs(t.balance).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${d.color}`,children:d.text}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.status==="ACTIVE"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,children:t.status})]}),e.jsxs(f,{onClick:()=>x(`/transport-portal/students/${t.id}`),className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",children:[e.jsx(k,{size:16}),"View Details"]})]})]},t.id)})}),l.length===0&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-12 text-center border border-slate-100 dark:border-slate-700",children:[e.jsx(N,{size:48,className:"mx-auto mb-4 text-slate-300 dark:text-slate-600"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No students found"})]})]})};export{S as default};
