import{k as Y,u as B,r as m,j as e,A as V,m as F,e as C}from"./vendor-Cr6tcs86.js";import{B as M}from"./index-Dag-tkqd.js";import{m as T,K as z,Y as L,Q as K,V as $,C as w,B as g,q as N,w as D,_ as P,a3 as Q,a4 as X,a7 as R,a8 as H,a9 as Z,r as O,E as ee}from"./ui-BBn2VFCU.js";const I=({icon:n,label:x,value:r,subValue:l})=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors group",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-primary-500 group-hover:shadow-sm transition-all",children:e.jsx(n,{size:18})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 uppercase mb-0.5",children:x}),e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:r||"N/A"}),l&&e.jsx("p",{className:"text-xs text-slate-500",children:l})]})]}),E=({id:n,label:x,icon:r,active:l,onClick:j})=>e.jsxs("button",{onClick:()=>j(n),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-medium transition-all ${l?"text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[l&&e.jsx(F.div,{layoutId:"activeTab",className:"absolute inset-0 bg-slate-900 dark:bg-primary-600 rounded-full",transition:{type:"spring",bounce:.2,duration:.6}}),e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsx(r,{size:16}),x]})]}),te=({studentId:n,student:x})=>{const r=B(),[l,j]=m.useState(null),[y,c]=m.useState(!0);if(m.useEffect(()=>{(async()=>{try{const a=await C.get(`/api/students/${n}/academics/`);j(a.data)}catch(a){console.error("Error fetching academic records:",a)}finally{c(!1)}})()},[n]),y)return e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-200 border-t-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Loading academic records..."})]});if(!l||!l.success)return e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-12 text-center border-2 border-dashed border-slate-200 dark:border-slate-800",children:[e.jsx(R,{size:48,className:"mx-auto text-slate-300 mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"No Academic Records"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"No assessment records found for this student."})]});const u=Object.values(l.records).reduce((s,a)=>s+Object.keys(a).length,0),i={};Object.values(l.records).forEach(s=>{Object.values(s).forEach(a=>{a.subjects.forEach(b=>{i[b.subject_name]||(i[b.subject_name]={total:0,count:0}),i[b.subject_name].total+=b.marks,i[b.subject_name].count+=1})})});const f=Object.entries(i).map(([s,a])=>({name:s,average:(a.total/a.count).toFixed(1)})).sort((s,a)=>a.average-s.average),S=Math.max(...f.map(s=>parseFloat(s.average)));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-3 md:p-4 border border-blue-100 dark:border-blue-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 md:mb-2",children:[e.jsx("div",{className:"h-6 w-6 md:h-8 md:w-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(R,{size:14,className:"md:w-4 md:h-4 text-white"})}),e.jsx("p",{className:"text-[10px] md:text-xs text-blue-700 dark:text-blue-400 font-bold uppercase truncate",children:"Average"})]}),e.jsxs("p",{className:"text-xl md:text-3xl font-black text-blue-900 dark:text-blue-300",children:[l.stats.average_score,"%"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-3 md:p-4 border border-purple-100 dark:border-purple-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 md:mb-2",children:[e.jsx("div",{className:"h-6 w-6 md:h-8 md:w-8 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(g,{size:14,className:"md:w-4 md:h-4 text-white"})}),e.jsx("p",{className:"text-[10px] md:text-xs text-purple-700 dark:text-purple-400 font-bold uppercase truncate",children:"Exams"})]}),e.jsx("p",{className:"text-xl md:text-3xl font-black text-purple-900 dark:text-purple-300",children:l.stats.total_assessments})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl p-3 md:p-4 border border-emerald-100 dark:border-emerald-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 md:mb-2",children:[e.jsx("div",{className:"h-6 w-6 md:h-8 md:w-8 bg-emerald-500 rounded-lg flex items-center justify-center",children:e.jsx(g,{size:14,className:"md:w-4 md:h-4 text-white"})}),e.jsx("p",{className:"text-[10px] md:text-xs text-emerald-700 dark:text-emerald-400 font-bold uppercase truncate",children:"Subjects"})]}),e.jsx("p",{className:"text-xl md:text-3xl font-black text-emerald-900 dark:text-emerald-300",children:l.stats.subjects_count})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-3 md:p-4 border border-amber-100 dark:border-amber-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 md:mb-2",children:[e.jsx("div",{className:"h-6 w-6 md:h-8 md:w-8 bg-amber-500 rounded-lg flex items-center justify-center",children:e.jsx(w,{size:14,className:"md:w-4 md:h-4 text-white"})}),e.jsx("p",{className:"text-[10px] md:text-xs text-amber-700 dark:text-amber-400 font-bold uppercase truncate",children:"Term"})]}),e.jsx("p",{className:"text-lg md:text-xl font-black text-amber-900 dark:text-amber-300 truncate",children:l.stats.latest_term})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Performance Distribution"}),e.jsx(H,{size:16,className:"text-slate-400"})]}),e.jsx("div",{className:"space-y-2.5",children:[{level:"4",label:"Exceeding",count:l.performance_distribution.exceeding,color:"emerald"},{level:"3",label:"Meeting",count:l.performance_distribution.meeting,color:"blue"},{level:"2",label:"Approaching",count:l.performance_distribution.approaching,color:"amber"},{level:"1",label:"Below",count:l.performance_distribution.below,color:"rose"}].map(s=>{const a=(s.count/(l.stats.total_assessments||1)*100).toFixed(0);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:[s.label," (",s.level,")"]}),e.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[s.count," ",e.jsxs("span",{className:"text-slate-400 text-[10px]",children:["(",a,"%)"]})]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-${s.color}-500 transition-all duration-500`,style:{width:`${a}%`}})})]},s.level)})})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Subject Performance"}),e.jsx(Z,{size:16,className:"text-slate-400"})]}),e.jsx("div",{className:"space-y-2",children:f.slice(0,6).map((s,a)=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-0.5",children:[e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:s.name}),e.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[s.average,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 group-hover:from-primary-600 group-hover:to-primary-700 transition-all duration-300",style:{width:`${parseFloat(s.average)/S*100}%`}})})]},a))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(g,{size:16,className:"text-primary-500"}),"Assessment Summary"]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:[u," assessment",u!==1?"s":""," across ",Object.keys(l.records).length," term",Object.keys(l.records).length!==1?"s":""]})]}),e.jsxs(M,{onClick:()=>{const s=JSON.parse(localStorage.getItem("user")||"{}"),a=s?.teacher?.pk||s?.id||"";a&&r(`/teacher/${a}/student/${n}/report`)},size:"sm",className:"text-xs",children:["View Full Report",e.jsx(O,{size:14,className:"ml-1.5"})]})]})}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(l.records).slice(0,3).map(([s,a])=>e.jsxs("div",{className:"p-3 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700/50 hover:border-primary-200 dark:hover:border-primary-800 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:s}),e.jsx(w,{size:14,className:"text-slate-400 group-hover:text-primary-500 transition-colors"})]}),e.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white mb-0.5",children:Object.keys(a).length}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Assessment",Object.keys(a).length!==1?"s":""]})]},s))}),Object.keys(l.records).length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{size:40,className:"mx-auto text-slate-300 mb-3"}),e.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"No Assessments Yet"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This student hasn't been assessed yet."})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("button",{onClick:()=>{const s=JSON.parse(localStorage.getItem("user")||"{}"),a=s?.teacher?.pk||s?.id||"",b=x?.academic?.grade_id||x?.grade_id||"";a&&r(`/teacher/${a}/academics?student=${n}&grade=${b}`)},className:"group p-4 rounded-xl bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 border border-primary-200 dark:border-primary-800 hover:border-primary-300 dark:hover:border-primary-700 transition-all text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ee,{size:18,className:"text-primary-600"})}),e.jsx(O,{size:16,className:"text-primary-400 group-hover:text-primary-500 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-all"})]}),e.jsx("h4",{className:"text-sm font-bold text-slate-900 dark:text-white mb-0.5",children:"Record New Assessment"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Add marks for this student"})]})})]})},de=()=>{const{id:n}=Y(),x=B(),[r,l]=m.useState(null),[j,y]=m.useState(!0),[c,u]=m.useState("overview"),[i,f]=m.useState([]),[S,s]=m.useState(!1),a=()=>{const t=JSON.parse(localStorage.getItem("user")||"{}");return t?.teacher?.pk||t?.id||""};if(m.useEffect(()=>{(async()=>{try{const d=await C.get(`/api/students/${n}/`);l(d.data.student)}catch(d){console.error("Error fetching student:",d)}finally{y(!1)}})()},[n]),m.useEffect(()=>{(async()=>{if(c==="attendance"&&n){s(!0);try{const d=await C.get(`/api/students/${n}/attendance/`);f(d.data.attendance||[])}catch(d){console.error("Error fetching attendance:",d),f([])}finally{s(!1)}}})()},[c,n]),j)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-200 border-t-indigo-600"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Student Profile..."})]})});if(!r)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 gap-4",children:[e.jsx("div",{className:"h-20 w-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-slate-400",children:e.jsx(T,{size:40})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Student Not Found"}),e.jsx(M,{variant:"outline",onClick:()=>x(-1),children:"Return to Class"})]});const v=(()=>{if(!i||i.length===0)return{total:0,present:0,absent:0,late:0,rate:0};const t=i.filter(o=>o.status==="PRESENT").length,d=i.filter(o=>o.status==="ABSENT").length,h=i.filter(o=>o.status==="LATE").length,p=i.length,k=p>0?(t/p*100).toFixed(1):0;return{total:p,present:t,absent:d,late:h,rate:k}})(),A=i.slice(0,7),G=(()=>{const t=new Date,d=t.getFullYear(),h=t.getMonth(),p=new Date(d,h+1,0).getDate(),k=[];for(let o=1;o<=p;o++){const q=`${d}-${String(h+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`,_=i.find(J=>J.date===q);k.push({day:o,status:_?_.status.toLowerCase():null})}return k})(),U=new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),W=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-5 md:p-6 border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:e.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2 text-sm md:text-base",children:[e.jsx($,{size:18,className:"text-purple-500 md:w-5 md:h-5"}),"Guardian Info"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 md:p-4 rounded-2xl flex items-center gap-3 md:gap-4",children:[e.jsx("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center font-bold text-lg",children:r.guardian.name?r.guardian.name.charAt(0):"G"}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate text-sm md:text-base",children:r.guardian.name||"No Guardian Name"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Primary Guardian"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(I,{icon:Q,label:"Phone Number",value:r.guardian.phone}),e.jsx(I,{icon:X,label:"Email Address",value:r.guardian.email||"No email provided"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-5 md:p-6 border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2 text-sm md:text-base",children:[e.jsx(g,{size:18,className:"text-blue-500 md:w-5 md:h-5"}),"Academic Status"]}),e.jsx("span",{className:"text-xs font-bold bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2.5 py-1 rounded-full",children:"ACTIVE"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsxs("div",{className:"p-3 md:p-4 rounded-2xl bg-blue-50 dark:bg-blue-900/10 text-center",children:[e.jsx("p",{className:"text-[10px] md:text-xs text-blue-600 dark:text-blue-400 font-bold uppercase mb-1",children:"Grade"}),e.jsx("p",{className:"text-xl md:text-2xl font-black text-slate-900 dark:text-white",children:r.personal.grade})]}),e.jsxs("div",{className:"p-3 md:p-4 rounded-2xl bg-indigo-50 dark:bg-indigo-900/10 text-center",children:[e.jsx("p",{className:"text-[10px] md:text-xs text-indigo-600 dark:text-indigo-400 font-bold uppercase mb-1",children:"Rank"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-slate-900 dark:text-white",children:["#",r.academic.position]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 rounded-3xl p-5 md:p-6 text-white shadow-lg md:col-span-2 lg:col-span-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsxs("h3",{className:"font-bold flex items-center gap-2 text-sm md:text-base",children:[e.jsx(N,{size:18,className:"text-emerald-400 md:w-5 md:h-5"}),"Attendance"]}),e.jsx("span",{className:"text-xs font-medium bg-white/10 px-2 py-1 rounded-lg",children:"This Term"})]}),e.jsx("div",{className:"flex items-center justify-center py-2 md:py-4",children:e.jsxs("div",{className:"relative h-28 w-28 md:h-32 md:w-32 flex items-center justify-center",children:[e.jsxs("svg",{className:"h-full w-full -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-white/10",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),e.jsx("path",{className:"text-emerald-400",strokeDasharray:`${r.attendance.attendance_rate}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"})]}),e.jsxs("div",{className:"absolute flex flex-col items-center",children:[e.jsxs("span",{className:"text-2xl md:text-3xl font-bold",children:[r.attendance.attendance_rate,"%"]}),e.jsx("span",{className:"text-[10px] text-slate-300 uppercase tracking-widest",children:"Present"})]})]})}),e.jsxs("div",{className:"flex justify-between text-sm mt-2 px-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 text-xs uppercase",children:"Absent"}),e.jsxs("p",{className:"font-bold",children:[r.attendance.absent_days," Days"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 text-xs uppercase",children:"Late"}),e.jsxs("p",{className:"font-bold",children:[r.attendance.late_days," Days"]})]})]})]})]});return e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 pb-20 min-h-screen",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 px-4 md:px-8 py-3 md:py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>{const t=a();x(t?`/teacher/${t}/class`:-1)},className:"group flex items-center gap-2 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors",children:[e.jsx("div",{className:"p-1.5 md:p-2 rounded-full group-hover:bg-slate-100 dark:group-hover:bg-slate-800 transition-colors",children:e.jsx(z,{size:20,className:"md:w-5 md:h-5 w-4 h-4"})}),e.jsx("span",{className:"font-medium text-sm md:text-base",children:"Back to Class"})]}),e.jsx("div",{className:"flex gap-3"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-6 md:py-8 space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-32 md:h-48 w-full bg-gradient-to-r from-indigo-900 to-indigo-800 dark:from-slate-800 dark:to-slate-900 rounded-2xl md:rounded-3xl overflow-hidden shadow-sm",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),e.jsx("div",{className:"absolute bottom-0 right-0 p-8 md:p-12 opacity-10",children:e.jsx(L,{size:120,className:"md:w-[200px] md:h-[200px]"})})]}),e.jsxs("div",{className:"relative -mt-16 md:-mt-20 px-4 md:px-10 flex flex-col md:flex-row items-center md:items-end gap-4 md:gap-6 text-center md:text-left",children:[e.jsx("div",{className:"relative group",children:e.jsx("div",{className:"h-32 w-32 md:h-40 md:w-40 rounded-3xl border-4 border-white dark:border-slate-950 bg-white dark:bg-slate-900 shadow-xl overflow-hidden p-1 flex items-center justify-center",children:r.personal.photo?e.jsx("img",{src:r.personal.photo,alt:r.personal.full_name,className:"w-full h-full object-cover rounded-2xl"}):e.jsx("div",{className:"w-full h-full bg-slate-100 dark:bg-slate-800 rounded-2xl flex items-center justify-center text-slate-400",children:e.jsx(T,{size:48,className:"md:w-16 md:h-16"})})})}),e.jsxs("div",{className:"pb-2 md:pb-4 flex-1 w-full",children:[e.jsx("div",{className:"flex flex-col md:flex-row items-center md:items-end md:gap-4 mb-3 md:mb-2",children:e.jsx("h1",{className:"text-2xl md:text-4xl font-black text-slate-900 dark:text-white tracking-tight",children:r.personal.full_name})}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 md:gap-4 text-slate-600 dark:text-slate-400 font-medium text-xs md:text-sm",children:[e.jsxs("span",{className:"bg-white dark:bg-slate-900 px-2.5 py-1 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm flex items-center gap-1.5",children:[e.jsx(K,{size:12,className:"md:w-3.5 md:h-3.5 text-indigo-500"}),"ID: ",r.personal.admission_number]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{size:14,className:"md:w-4 md:h-4"}),r.personal.location]}),e.jsx("span",{className:"hidden md:inline w-1 h-1 rounded-full bg-slate-300"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{size:14,className:"md:w-4 md:h-4"}),"Born ",r.personal.dob]})]})]})]})]}),e.jsx("div",{className:"flex justify-start overflow-x-auto pb-2 md:pb-0 hide-scrollbar -mx-4 px-4 md:mx-0 md:px-0",children:e.jsxs("div",{className:"flex p-1 bg-white dark:bg-slate-900 rounded-full border border-slate-200 dark:border-slate-800 shadow-sm whitespace-nowrap",children:[e.jsx(E,{id:"overview",label:"Overview",icon:L,active:c==="overview",onClick:u}),e.jsx(E,{id:"academic",label:"Academics",icon:g,active:c==="academic",onClick:u}),e.jsx(E,{id:"attendance",label:"Attendance",icon:N,active:c==="attendance",onClick:u})]})}),e.jsx(V,{mode:"wait",children:e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c==="overview"&&W(),c==="academic"&&e.jsx(te,{studentId:n,student:r}),c==="attendance"&&e.jsx("div",{className:"space-y-4",children:S?e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-200 border-t-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Loading attendance records..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl p-3 md:p-4 border border-emerald-100 dark:border-emerald-800/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 bg-emerald-500 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(D,{size:16,className:"md:w-[18px] md:h-[18px] text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-emerald-700 dark:text-emerald-400 font-bold uppercase",children:"Rate"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-emerald-900 dark:text-emerald-300",children:[v.rate,"%"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-3 md:p-4 border border-blue-100 dark:border-blue-800/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 bg-blue-500 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(w,{size:16,className:"md:w-[18px] md:h-[18px] text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-blue-700 dark:text-blue-400 font-bold uppercase",children:"Present"}),e.jsx("p",{className:"text-xl md:text-2xl font-black text-blue-900 dark:text-blue-300",children:v.present})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/20 dark:to-pink-900/20 rounded-xl p-3 md:p-4 border border-rose-100 dark:border-rose-800/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 bg-rose-500 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(P,{size:16,className:"md:w-[18px] md:h-[18px] text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-rose-700 dark:text-rose-400 font-bold uppercase",children:"Absent"}),e.jsx("p",{className:"text-xl md:text-2xl font-black text-rose-900 dark:text-rose-300",children:v.absent})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-3 md:p-4 border border-amber-100 dark:border-amber-800/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 bg-amber-500 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(N,{size:16,className:"md:w-[18px] md:h-[18px] text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs text-amber-700 dark:text-amber-400 font-bold uppercase",children:"Late"}),e.jsx("p",{className:"text-xl md:text-2xl font-black text-amber-900 dark:text-amber-300",children:v.late})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Recent Attendance"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Last 7 days"})]}),e.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800 max-h-80 overflow-y-auto",children:A.length>0?A.map((t,d)=>e.jsx("div",{className:"px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${t.status==="PRESENT"?"bg-emerald-100 dark:bg-emerald-900/30":t.status==="LATE"?"bg-amber-100 dark:bg-amber-900/30":"bg-rose-100 dark:bg-rose-900/30"}`,children:t.status==="PRESENT"?e.jsx(D,{size:16,className:"text-emerald-600 dark:text-emerald-400"}):t.status==="LATE"?e.jsx(N,{size:16,className:"text-amber-600 dark:text-amber-400"}):e.jsx(P,{size:16,className:"text-rose-600 dark:text-rose-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-slate-900 dark:text-white",children:new Date(t.date).toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.time_in||"-"}),e.jsx("span",{className:`text-xs font-bold uppercase ${t.status==="PRESENT"?"text-emerald-600 dark:text-emerald-400":t.status==="LATE"?"text-amber-600 dark:text-amber-400":"text-rose-600 dark:text-rose-400"}`,children:t.status})]})]})},d)):e.jsxs("div",{className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400",children:[e.jsx(N,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No attendance records yet"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:U}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:e.jsx(z,{size:16,className:"text-slate-600 dark:text-slate-400"})}),e.jsx("button",{className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:e.jsx(z,{size:16,className:"text-slate-600 dark:text-slate-400 rotate-180"})})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["S","M","T","W","T","F","S"].map((t,d)=>e.jsx("div",{className:"text-center py-1",children:e.jsx("span",{className:"text-xs font-bold text-slate-400 dark:text-slate-500",children:t})},d)),G.map((t,d)=>e.jsx("div",{className:`aspect-square rounded-md flex items-center justify-center text-xs font-semibold cursor-pointer transition-all hover:scale-110 ${t.status==="present"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":t.status==="late"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":t.status==="absent"?"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400":"bg-slate-100 text-slate-400 dark:bg-slate-800 dark:text-slate-500"}`,children:t.day},d))]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"h-3 w-3 rounded bg-emerald-500"}),e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Present"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"h-3 w-3 rounded bg-amber-500"}),e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Late"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"h-3 w-3 rounded bg-rose-500"}),e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Absent"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Weekly Trend"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Last 7 days pattern"})]})}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:A.slice(0,7).reverse().map((t,d)=>{const h=t.status.toLowerCase(),p=h==="present"?90:h==="late"?75:0;return e.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[e.jsx("div",{className:"w-full h-20 bg-slate-100 dark:bg-slate-800 rounded-lg relative overflow-hidden",children:e.jsx("div",{className:`absolute bottom-0 w-full transition-all duration-500 ${h==="present"?"bg-gradient-to-t from-emerald-500 to-emerald-400":h==="late"?"bg-gradient-to-t from-amber-500 to-amber-400":"bg-gradient-to-t from-rose-500 to-rose-400"}`,style:{height:`${p}%`}})}),e.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:new Date(t.date).toLocaleDateString("en-US",{weekday:"short"})})]},d)})})]})]})})]},c)})]})]})};export{de as default};
