import{r as d,e as p,j as e}from"./vendor-Cr6tcs86.js";import{b as w,z as x}from"./index-41VSs_U4.js";import{O as S,f as _,c as b,k,Q as C,ao as g,ap as T,b7 as A,a0 as D,a4 as E,g as M}from"./ui-BBn2VFCU.js";const $=()=>{const{refreshStatus:f}=w(),[t,m]=d.useState({system:{maintenance_mode:!1,registration_open:!0,debug_mode:!1,allow_api_access:!0},pricing:{currency:"KES",basic_price:2999,standard_price:5999,enterprise_price:14999,trial_days:14},communication:{sms_gateway:"AfricasTalking",sms_active:!0,email_active:!0,push_notifications:!1},security:{force_2fa_admins:!1,session_timeout:60,password_policy:"strong"}}),[j,h]=d.useState(!0),[n,y]=d.useState("system");d.useEffect(()=>{N()},[]);const N=async()=>{try{const s=await p.get("/api/super-portal/settings/");m(s.data),h(!1)}catch(s){console.error("Error fetching settings:",s),x.error("Failed to load system settings"),h(!1)}},l=(s,a)=>{m(i=>({...i,[s]:{...i[s],[a]:!i[s][a]}}))},c=(s,a,i)=>{m(u=>({...u,[s]:{...u[s],[a]:i}}))},v=async()=>{const s=x.loading("Updating global configurations...");try{await p.post("/api/super-portal/settings/",t),await f(),x.success("System settings updated successfully",{id:s})}catch(a){console.error("Error saving settings:",a),x.error("Failed to update settings",{id:s})}},o=({id:s,label:a,icon:i})=>e.jsxs("button",{onClick:()=>y(s),className:`flex items-center gap-3 w-full p-4 rounded-xl transition-all font-bold text-sm text-left ${n===s?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-transparent text-slate-500 hover:bg-white/[0.03] hover:text-slate-300"}`,children:[e.jsx(i,{size:18}),e.jsx("span",{children:a})]}),r=({checked:s,onChange:a})=>e.jsx("button",{onClick:a,className:`relative w-12 h-6 rounded-full transition-colors duration-300 ${s?"bg-primary-500":"bg-slate-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform duration-300 ${s?"translate-x-6":"translate-x-0"}`})});return j?e.jsx("div",{className:"flex items-center justify-center min-h-[500px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700 pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-black text-white tracking-tight mb-2",children:"GLOBAL SETTINGS"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm lg:text-base",children:"Configure system-wide parameters and operational modes"})]}),e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-6 py-3 bg-white text-slate-950 rounded-2xl font-black uppercase tracking-wider hover:bg-slate-200 transition-colors shadow-xl shadow-white/5 active:scale-95",children:[e.jsx(S,{size:18}),e.jsx("span",{children:"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-2",children:[e.jsx(o,{id:"system",label:"System Control",icon:_}),e.jsx(o,{id:"pricing",label:"Pricing & Plans",icon:b}),e.jsx(o,{id:"communication",label:"Communication",icon:k}),e.jsx(o,{id:"security",label:"Security & Access",icon:C}),e.jsx(o,{id:"database",label:"Database Config",icon:g})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-[2.5rem] p-8 min-h-[500px]",children:[n==="system"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[e.jsx(T,{className:"text-primary-500"})," Platform Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Maintenance Mode"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"If enabled, the platform will be inaccessible to all non-admin users."})]}),e.jsx(r,{checked:t.system.maintenance_mode,onChange:()=>l("system","maintenance_mode")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"School Registration"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Allow new schools to sign up and create accounts."})]}),e.jsx(r,{checked:t.system.registration_open,onChange:()=>l("system","registration_open")})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[e.jsx(A,{className:"text-primary-500"})," Advanced Operations"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Debug Mode"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Show detailed error traces in frontend application."})]}),e.jsx(r,{checked:t.system.debug_mode,onChange:()=>l("system","debug_mode")})]})})]})]}),n==="pricing"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[e.jsx(b,{className:"text-primary-500"})," Subscription Models"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 pl-2",children:"Base Currency"}),e.jsxs("select",{className:"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white text-sm font-bold focus:ring-2 focus:ring-primary-500/50 outline-none",value:t.pricing.currency,onChange:s=>c("pricing","currency",s.target.value),children:[e.jsx("option",{value:"KES",children:"KES (Kenyan Shilling)"}),e.jsx("option",{value:"USD",children:"USD (US Dollar)"}),e.jsx("option",{value:"NGN",children:"NGN (Nigerian Naira)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 pl-2",children:"Trial Duration (Days)"}),e.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white text-sm font-bold focus:ring-2 focus:ring-primary-500/50 outline-none",value:t.pricing.trial_days,onChange:s=>c("pricing","trial_days",s.target.value)})]})]}),e.jsx("div",{className:"space-y-4",children:["basic","standard","enterprise"].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-white capitalize",children:[s," Plan"]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Monthly billing amount"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 border border-slate-800 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:t.pricing.currency}),e.jsx("input",{type:"number",className:"w-24 bg-transparent text-white font-bold text-right outline-none",value:t.pricing[`${s}_price`],onChange:a=>c("pricing",`${s}_price`,a.target.value)})]})]},s))})]}),n==="communication"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[e.jsx(D,{className:"text-primary-500"})," SMS Gateways"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-slate-950/50 rounded-2xl border border-slate-800 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"font-bold text-white",children:"SMS Service"}),e.jsx(r,{checked:t.communication.sms_active,onChange:()=>l("communication","sms_active")})]}),t.communication.sms_active&&e.jsxs("div",{className:"pt-4 border-t border-slate-800/50",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 pl-2 mb-2 block",children:"Provider"}),e.jsxs("select",{className:"w-full bg-slate-900 border border-slate-800 rounded-xl p-4 text-white text-sm font-bold focus:ring-2 focus:ring-primary-500/50 outline-none",value:t.communication.sms_gateway,onChange:s=>c("communication","sms_gateway",s.target.value),children:[e.jsx("option",{value:"AfricasTalking",children:"Africa's Talking (Default)"}),e.jsx("option",{value:"Twilio",children:"Twilio"}),e.jsx("option",{value:"Vonage",children:"Vonage"})]})]})]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[e.jsx(E,{className:"text-primary-500"})," Email Services"]}),e.jsxs("div",{className:"p-4 bg-slate-950/50 rounded-2xl border border-slate-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"System Emails"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Send welcome emails and alerts"})]}),e.jsx(r,{checked:t.communication.email_active,onChange:()=>l("communication","email_active")})]})]})]}),n==="security"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[e.jsx(M,{className:"text-primary-500"})," Access Control"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950/50 rounded-2xl border border-slate-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Enforce 2FA for Admins"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Require two-factor authentication for school admins."})]}),e.jsx(r,{checked:t.security.force_2fa_admins,onChange:()=>l("security","force_2fa_admins")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 pl-2",children:"Session Timeout (Minutes)"}),e.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white text-sm font-bold focus:ring-2 focus:ring-primary-500/50 outline-none",value:t.security.session_timeout,onChange:s=>c("security","session_timeout",s.target.value)})]})]})]}),n==="database"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-900 border border-slate-800 flex items-center justify-center mb-6",children:e.jsx(g,{className:"text-slate-600",size:32})}),e.jsx("h3",{className:"text-xl font-black text-white text-center",children:"Managed Database"}),e.jsx("p",{className:"text-slate-500 text-center max-w-sm mt-2 mb-6",children:"Database configuration is managed by the cloud provider. Direct modifications are restricted."}),e.jsx("button",{className:"px-6 py-3 bg-slate-800 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-700",children:"Check Connections"})]})]})})]})]})};export{$ as default};
