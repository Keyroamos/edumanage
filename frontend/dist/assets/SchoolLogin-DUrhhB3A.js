import{u as p,r as t,j as e,m as f,e as b}from"./vendor-Cr6tcs86.js";import{u as j,I as m,B as v}from"./index-Dag-tkqd.js";import{P as N}from"./PublicNavbar-DFmW8uvy.js";import{az as w,ad as y,a4 as S,g as k}from"./ui-BBn2VFCU.js";const E=()=>{const r=p(),{config:_}=j(),[x,o]=t.useState(!1),[n,i]=t.useState(null),[l,u]=t.useState({username:"",password:""}),c=new URLSearchParams(window.location.search);t.useEffect(()=>{const s=c.get("slug");s&&localStorage.setItem("portal_slug",s)},[]);const h=c.get("slug")||localStorage.getItem("portal_slug"),d=s=>{u(a=>({...a,[s.target.name]:s.target.value}))},g=async s=>{s.preventDefault(),i(null),o(!0);try{const a=await b.post("/api/login/",{...l,portal_slug:h,is_admin_portal:!0});a.data.success&&(localStorage.setItem("user",JSON.stringify(a.data.user)),a.data.portal_slug&&localStorage.setItem("portal_slug",a.data.portal_slug),r(a.data.redirect_url||"/dashboard"))}catch(a){i(a.response?.data?.error||"Invalid credentials. Please try again.")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen w-full flex bg-white font-sans text-slate-900 selection:bg-blue-100 selection:text-blue-900",children:[e.jsx(N,{darkMode:!1}),e.jsx("div",{className:"relative z-10 w-full max-w-7xl mx-auto flex items-center justify-center min-h-screen pt-20 pb-4 lg:p-8 lg:pt-24",children:e.jsxs("div",{className:"w-full grid lg:grid-cols-2 gap-8 lg:gap-16 items-center",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-between h-full bg-slate-50 rounded-[2.5rem] border border-slate-100 p-12 relative overflow-hidden min-h-[600px]",children:[e.jsxs("div",{className:"relative z-10 mt-8 space-y-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white border border-slate-200 rounded-full shadow-sm text-xs font-bold text-slate-600 uppercase tracking-wider",children:[e.jsx(w,{size:12,className:"text-blue-600"}),"Admin Portal"]}),e.jsxs("h1",{className:"text-5xl font-extrabold text-slate-900 leading-[1.1] tracking-tight",children:["Manage your school ",e.jsx("br",{}),e.jsx("span",{className:"text-slate-400",children:"with confidence."})]}),e.jsx("p",{className:"text-lg text-slate-500 max-w-md leading-relaxed font-normal",children:"Access your administrative dashboard to oversee operations, finance, and academics in real-time."})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex -space-x-3 mb-4",children:[1,2,3,4].map(s=>e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-slate-200 overflow-hidden",children:e.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${s*123}`,alt:"User"})},s))}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-bold text-sm",children:[e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(s=>e.jsx("span",{className:"text-yellow-400 text-base",children:"★"},s))}),e.jsx("span",{className:"text-slate-500 font-medium ml-2",children:"Trusted by 2,000+ Schools"})]})]}),e.jsx("div",{className:"absolute -bottom-24 -right-24 w-96 h-96 bg-blue-50 rounded-full blur-3xl pointer-events-none opacity-50"})]}),e.jsx("div",{className:"w-full flex flex-col items-center justify-center p-6 lg:p-12",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center lg:text-left space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Welcome back"}),e.jsx("p",{className:"text-slate-500",children:"Please enter your details to sign in."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-5",children:[n&&e.jsxs(f.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-3 bg-red-50 border border-red-100 text-red-600 rounded-lg text-sm flex items-start gap-2",children:[e.jsx(y,{size:16,className:"mt-0.5 shrink-0"}),e.jsx("span",{children:n})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Email address",name:"username",placeholder:"name@school.com",required:!0,value:l.username,onChange:d,icon:S,className:"bg-white border-slate-200 text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:ring-slate-100 rounded-xl h-12"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Password"}),e.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Forgot password?"})]}),e.jsx(m,{type:"password",name:"password",placeholder:"••••••••",required:!0,value:l.password,onChange:d,icon:k,className:"bg-white border-slate-200 text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:ring-slate-100 rounded-xl h-12"})]})]}),e.jsx(v,{type:"submit",size:"lg",className:"w-full bg-slate-900 hover:bg-slate-800 text-white rounded-xl h-12 font-bold shadow-lg shadow-slate-200 transition-all duration-300 hover:-translate-y-0.5",isLoading:x,children:"Sign In"})]}),e.jsx("div",{className:"pt-6 text-center",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>r("/signup"),className:"text-slate-900 font-bold hover:underline",children:"Sign up for free"})]})})]})})]})})]})};export{E as default};
