import{r,e as i,j as e}from"./vendor-Cr6tcs86.js";import{aC as x,aB as o,aD as m}from"./ui-BBn2VFCU.js";const g=()=>{const[t,d]=r.useState([]),[n,l]=r.useState(!0);r.useEffect(()=>{c()},[]);const c=async()=>{l(!0);try{const s=await i.get("/api/finance/transactions/all/?source=FOOD");d(s.data.transactions||[])}catch(s){console.error(s)}finally{l(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white flex items-center gap-3",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-xl text-orange-600 dark:text-orange-400",children:e.jsx(x,{size:24})}),"Food Finance"]}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium ml-14 mt-1",children:"Cafeteria revenue and meal payment tracking"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-500/10 px-4 py-2 rounded-xl border border-emerald-100 dark:border-emerald-500/20",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Total Realized"}),e.jsxs("p",{className:"text-lg font-black text-emerald-700",children:["KES ",t.reduce((s,a)=>s+a.amount,0).toLocaleString()]})]})})]}),n?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-slate-200 border-t-orange-600 animate-spin"})}):e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-500",children:"Revenue Ledger"}),e.jsx("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Realized Income"]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("tr",{className:"text-[11px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:[e.jsx("th",{className:"px-6 py-4",children:"Student/Recipient"}),e.jsx("th",{className:"px-6 py-4",children:"Transaction Details"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"}),e.jsx("th",{className:"px-6 py-4",children:"Method"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Reference"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Date"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.map((s,a)=>e.jsxs("tr",{className:"hover:bg-orange-50/30 dark:hover:bg-orange-500/5 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 group-hover:scale-110 transition-transform",children:e.jsx(o,{size:14})}),e.jsx("span",{className:"text-sm font-bold",children:s.title})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[s.source," Payment"]})}),e.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-600 text-sm",children:["+ KES ",s.amount.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"text-[10px] font-black bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded uppercase",children:s.method||"CASH"})}),e.jsx("td",{className:"px-6 py-4 text-center text-xs font-mono text-slate-400",children:s.reference}),e.jsx("td",{className:"px-6 py-4 text-right text-xs font-medium text-slate-500",children:s.date})]},a))})]}),t.length===0&&e.jsxs("div",{className:"text-center py-24",children:[e.jsx(m,{size:48,className:"mx-auto text-slate-200 mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No food revenue recorded yet"})]})]})]})]})};export{g as default};
