import{r as i,j as e,m as f,e as o}from"./vendor-Cr6tcs86.js";import{B as c}from"./index-BxkJ-YYo.js";import{w as j,T as n,U as m,R as x,A as h,C as b}from"./ui-BBn2VFCU.js";const k=()=>{const[d,l]=i.useState(!1),[r,t]=i.useState(null),[a,g]=i.useState("2"),p=async()=>{if(window.confirm("Are you sure you want to promote ALL students to the next class? This action cannot be undone.")){l(!0),t(null);try{const s=await o.post("/api/students/promote/");t({type:"success",text:s.data.message})}catch(s){console.error(s),t({type:"error",text:s.response?.data?.error||"Failed to promote students"})}finally{l(!1)}}},u=async()=>{if(window.confirm(`Are you sure you want to move ALL students to Term ${a}?`)){l(!0),t(null);try{const s=await o.post("/api/students/update-term/",{term:a});t({type:"success",text:s.data.message})}catch(s){console.error(s),t({type:"error",text:s.response?.data?.error||"Failed to update term"})}finally{l(!1)}}};return e.jsxs("div",{className:"p-4 md:p-8 max-w-5xl mx-auto space-y-6 md:space-y-10",children:[e.jsxs("div",{className:"text-center md:text-left space-y-2",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Academic Management"}),e.jsx("p",{className:"text-sm md:text-base text-slate-500 dark:text-slate-400 font-medium",children:"Orchestrate class promotions and seasonal term transitions"})]}),r&&e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`p-4 md:p-6 rounded-2xl flex items-center gap-4 ${r.type==="success"?"bg-emerald-50 text-emerald-700 border-2 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800/30":"bg-rose-50 text-rose-700 border-2 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-800/30"}`,children:[e.jsx("div",{className:`p-2 rounded-full ${r.type==="success"?"bg-emerald-100 dark:bg-emerald-800":"bg-rose-100 dark:bg-rose-800"}`,children:r.type==="success"?e.jsx(j,{size:20}):e.jsx(n,{size:20})}),e.jsx("span",{className:"font-bold text-sm md:text-base",children:r.text})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:gap-10",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-md rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-10 shadow-lg shadow-indigo-500/5 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 -mr-12 -mt-12 group-hover:scale-110 transition-transform",children:e.jsx(m,{size:160,className:"text-indigo-600"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8 mb-8",children:[e.jsx("div",{className:"h-16 w-16 md:h-20 md:w-20 bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/30 shrink-0",children:e.jsx(m,{className:"text-white",size:32})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Annual Promotion"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-sm md:text-base max-w-2xl",children:"Move all students to their next grade level. Grade 12 students will be graduated while others advance their academic standing."})]})]}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 md:p-8 border border-amber-200/50 dark:border-amber-800/30 mb-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-10 w-10 bg-amber-500 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(n,{className:"text-white",size:20})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-bold text-amber-900 dark:text-amber-200 uppercase tracking-widest text-xs",children:"Security Checkpointing"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm font-semibold text-amber-800/80 dark:text-amber-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-amber-500"}),"Advancement of all students"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-amber-500"}),"Automatic transition to Term 1"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-amber-500"}),"Graduation of final year students"]}),e.jsxs("div",{className:"flex items-center gap-2 underline decoration-amber-500/30",children:[e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-amber-500"}),"Irreversible database action"]})]})]})]})}),e.jsx(c,{onClick:p,disabled:d,className:"w-full md:w-auto h-12 px-10 rounded-xl bg-indigo-600 hover:bg-slate-900 dark:hover:bg-primary-600 text-white shadow-lg shadow-indigo-500/10 transition-all font-bold",children:d?e.jsxs(e.Fragment,{children:[e.jsx(x,{size:20,className:"mr-3 animate-spin"}),"Synchronizing..."]}):e.jsxs(e.Fragment,{children:["Advance Academic Year",e.jsx(h,{size:20,className:"ml-3 group-hover:translate-x-1 transition-transform"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-md rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-10 shadow-lg shadow-emerald-500/5 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 -mr-12 -mt-12 group-hover:scale-110 transition-transform",children:e.jsx(b,{size:160,className:"text-emerald-600"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8 mb-8",children:[e.jsx("div",{className:"h-16 w-16 md:h-20 md:w-20 bg-gradient-to-br from-emerald-500 to-emerald-700 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/30 shrink-0",children:e.jsx(b,{className:"text-white",size:32})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Term Transition"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-sm md:text-base max-w-2xl",children:"Set the current active term for the entire institution. This will recalculate all financial obligations and term-specific analytics."})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-8 mb-8",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] md:text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 text-center md:text-left",children:"Institution Objective Term"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[1,2,3].map(s=>e.jsxs("button",{onClick:()=>g(s.toString()),className:`p-6 rounded-2xl border-2 transition-all flex flex-col items-center justify-center gap-2 ${a===s.toString()?"border-emerald-500 bg-emerald-500 text-white shadow-lg shadow-emerald-500/20 scale-[1.02]":"border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 hover:border-slate-300 dark:hover:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[e.jsxs("span",{className:`text-3xl font-bold ${a===s.toString()?"text-white":"text-slate-900 dark:text-white opacity-40"}`,children:["0",s]}),e.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest ${a===s.toString()?"text-emerald-100":"text-slate-400"}`,children:["Term ",s]})]},s))})]})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-5 md:p-6 border border-blue-200/50 dark:border-blue-800/30 mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-9 w-9 bg-blue-500 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(n,{className:"text-white",size:18})}),e.jsx("p",{className:"text-xs font-semibold text-blue-800/80 dark:text-blue-400",children:"Fee structures and academic snapshot datasets will be recalibrated to the selected term immediately."})]})}),e.jsx(c,{onClick:u,disabled:d,className:"w-full md:w-auto h-12 px-10 rounded-xl bg-emerald-600 hover:bg-slate-900 dark:hover:bg-primary-600 text-white shadow-lg shadow-emerald-500/10 transition-all font-bold",children:d?e.jsxs(e.Fragment,{children:[e.jsx(x,{size:20,className:"mr-3 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:["Initiate Term ",a,e.jsx(h,{size:20,className:"ml-3 group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})};export{k as default};
