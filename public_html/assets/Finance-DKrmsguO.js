import{r as i,d as W,e as $,j as e,A as U,m as y,u as se}from"./vendor-Cr6tcs86.js";import te from"./Salaries-DE2x9DgF.js";import ae from"./TransportFinance-7o_wzUIt.js";import le from"./FoodFinance-BcxIswpA.js";import{u as K,B as N}from"./index-BxkJ-YYo.js";import{ae as M,j as V,$ as T,w as X,h as re,O as ie,X as ne,af as de,D as R,B as oe,ag as ce,W as P,U as xe,F as me,s as q,t as _,Y as he,C as pe,a9 as ue,ah as be,v as ge,ai as fe}from"./ui-BBn2VFCU.js";import{R as G,A as je,C as Ne,X as ye,Y as ve,T as I,a as Y,P as ke,b as we,c as Ce}from"./charts-Fmv3L88u.js";const Se=()=>{const{config:l}=K(),[n,v]=i.useState([]),[S,p]=i.useState([]),[d,g]=i.useState(!0),[x,F]=i.useState(!1),[f,z]=i.useState(""),[c,k]=i.useState(null),[B,w]=i.useState(!1),[u,b]=i.useState(null),[m,s]=i.useState({}),[o,L]=i.useState("2024-2025"),C=W.useMemo(()=>{const t={};return n.forEach(a=>{const r=a.grade;t[r]||(t[r]={1:[],2:[],3:[]}),t[r][a.term].push(a)}),t},[n]);i.useEffect(()=>{D()},[o]);const D=async()=>{g(!0);try{const[t,a]=await Promise.all([$.get("/api/finance/fee-structures/"),$.get("/api/finance/fee-categories/")]);v(t.data.fee_structures||[]),p(a.data.categories||[])}catch(t){console.error("Error fetching data:",t),A("error","Failed to load fee structures")}finally{g(!1)}},A=(t,a)=>{k({type:t,text:a}),setTimeout(()=>k(null),4e3)},H=(t,a)=>{b(t);const r={};Object.values(a).flat().forEach(j=>{r[j.id]=j.amount}),s(r)},J=()=>{b(null),s({})},Q=(t,a)=>{s(r=>({...r,[t]:a}))},Z=async t=>{F(!0);try{const a=Object.entries(m).map(([j,ee])=>({id:parseInt(j),amount:parseFloat(ee)})),r=await $.post("/api/finance/fee-structures/update/",{updates:a});A("success",`Updated ${t} fees. ${r.data.updated_students||0} students synced.`),await D(),b(null)}catch(a){console.error("Failed to update fees",a),A("error","Failed to update fees")}finally{F(!1)}},O=Object.keys(C).filter(t=>t.toLowerCase().includes(f.toLowerCase()));return d?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"w-12 h-12 animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading fee structures..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Fee Structure Management"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Configure school fees by class, term, and category"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search class...",value:f,onChange:t=>z(t.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-64 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("select",{value:o,onChange:t=>L(t.target.value),className:"px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"2024-2025",children:"2024-2025"}),e.jsx("option",{value:"2025-2026",children:"2025-2026"}),e.jsx("option",{value:"2026-2027",children:"2026-2027"})]}),e.jsxs(N,{onClick:()=>w(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white border-none shadow-sm",children:[e.jsx(T,{size:18,className:"mr-2"}),"Add Fee Item"]})]})]}),e.jsx(U,{children:c&&e.jsxs(y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg flex items-center gap-3 ${c.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/20 dark:text-red-400"}`,children:[c.type==="success"?e.jsx(X,{size:20}):e.jsx(re,{size:20}),e.jsx("span",{className:"font-medium",children:c.text})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:O.map(t=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:t}),e.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:["Academic Year ",o]})]}),u===t?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(t),disabled:x,className:"p-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white shadow transition-colors disabled:opacity-50",children:x?e.jsx(M,{size:16,className:"animate-spin"}):e.jsx(ie,{size:16})}),e.jsx("button",{onClick:J,className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:e.jsx(ne,{size:16})})]}):e.jsx("button",{onClick:()=>H(t,C[t]),className:"p-2 rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(de,{size:16})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[1,2,3].map(a=>e.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/30 rounded-lg p-3 border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-widest",children:["Term ",a]}),e.jsx(R,{size:12,className:"text-slate-400"})]}),e.jsx("div",{className:"space-y-3 min-h-[60px]",children:C[t][a]&&C[t][a].length>0?C[t][a].map(r=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase leading-none",children:r.category}),u===t?e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[10px] text-slate-400",children:l.currency}),e.jsx("input",{type:"number",value:m[r.id]||0,onChange:j=>Q(r.id,j.target.value),className:"w-full pl-8 pr-2 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded text-xs font-bold outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-all shadow-sm"})]}):e.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[l.currency," ",r.amount.toLocaleString()]})]},r.id)):e.jsx("span",{className:"text-[10px] italic text-slate-400",children:"No fees configured"})})]},a))})]},t))}),O.length===0&&e.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-800",children:[e.jsx(oe,{className:"w-16 h-16 text-slate-300 dark:text-slate-700 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:f?"No classes found matching your search":"No fee structures configured yet"}),e.jsxs(N,{onClick:()=>w(!0),className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white border-none",children:[e.jsx(T,{size:18,className:"mr-2"}),"Add First Fee Structure"]})]})]})},E=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6"],h=({title:l,value:n,subtext:v,icon:S,color:p,trend:d,delay:g,net:x})=>e.jsx(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:g,duration:.4},className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex flex-col items-center text-center sm:flex-row sm:items-start sm:justify-between sm:text-left gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center sm:flex-row gap-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${p} bg-opacity-10 dark:bg-opacity-20`,children:e.jsx(S,{size:18,className:`${p.replace("bg-","text-")} dark:text-opacity-90`})}),e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:l})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-2xl font-semibold tracking-tight ${x?n.includes("-")?"text-rose-600":"text-emerald-600":"text-slate-900 dark:text-white"}`,children:n}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 font-medium",children:v})]})]}),d!==void 0&&e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-[11px] font-semibold ${d>=0?"text-emerald-600 bg-emerald-50 dark:bg-emerald-500/10":"text-rose-600 bg-rose-50 dark:bg-rose-500/10"}`,children:[d>=0?e.jsx(q,{size:12}):e.jsx(_,{size:12}),e.jsxs("span",{children:[Math.abs(d),"%"]})]})]})}),Re=()=>{const{config:l}=K();se();const[n,v]=i.useState(null),[S,p]=i.useState(!0),[d,g]=i.useState("overview"),[x,F]=i.useState(""),f=W.useMemo(()=>!n||!n.recent_collections?[]:n.recent_collections.filter(s=>s.student.toLowerCase().includes(x.toLowerCase())||s.reference.toLowerCase().includes(x.toLowerCase())||s.admission_no.toLowerCase().includes(x.toLowerCase())),[n,x]);i.useEffect(()=>{z()},[]);const z=async()=>{p(!0);try{const s=await $.get("/api/finance/");v(s.data)}catch(s){console.error("Error fetching finance:",s)}finally{p(!1)}};if(S)return e.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-24 w-24 rounded-full border-4 border-slate-200 dark:border-slate-800 border-t-indigo-600 animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-black text-[10px] tracking-widest text-indigo-600 animate-pulse",children:"SYNCING"})]})});if(!n)return null;const c=n.summary||{},k=n.chart_data||[];n.recent_collections;const B=n.recent_expenses||[],w=c.total_expenses||0,u=c.expense_breakdown||{},b=[{name:"Salaries",value:u.salaries||0},{name:"Transport",value:u.transport||0},{name:"Food",value:u.food||0},{name:"Other",value:u.other||0}].filter(s=>s.value>0),m=({id:s,label:o,icon:L})=>e.jsxs("button",{onClick:()=>g(s),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold transition-all rounded-lg whitespace-nowrap ${d===s?"text-indigo-600 bg-indigo-50 dark:text-indigo-400 dark:bg-indigo-900/30":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[e.jsx(L,{size:16}),o]});return e.jsxs("div",{className:"p-4 md:p-8 max-w-[1400px] mx-auto space-y-6 min-h-screen bg-slate-50/50 dark:bg-slate-950/20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 pb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Finance Management"}),e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Manage fees, payroll, and school expenditures"})]}),e.jsxs("div",{className:"flex bg-white dark:bg-slate-900 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-x-auto no-scrollbar gap-1",children:[e.jsx(m,{id:"overview",label:"Overview",icon:ce}),e.jsx(m,{id:"collections",label:"Collections",icon:P}),e.jsx(m,{id:"fee-structure",label:"Fee Structure",icon:R}),l.subscription?.plan!=="Basic"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{id:"payroll",label:"Payroll",icon:xe}),e.jsx(m,{id:"expenses",label:"Expenses",icon:me})]})]})]}),e.jsxs(U,{mode:"wait",children:[d==="overview"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:`grid grid-cols-2 ${l.subscription?.plan==="Basic"?"lg:grid-cols-2":"lg:grid-cols-4"} gap-4`,children:[e.jsx(h,{title:"Net Balance",value:`${l.currency} ${((c.net_profit||0)/1e3).toFixed(1)}k`,subtext:"Income - Expenses",icon:R,color:"bg-indigo-600",net:!0,delay:0}),e.jsx(h,{title:"Total Income",value:`${l.currency} ${((c.total_revenue||0)/1e3).toFixed(1)}k`,subtext:"Fees & others",icon:q,color:"bg-emerald-600",trend:12,delay:.1}),l.subscription?.plan!=="Basic"&&e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Total Expenses",value:`${l.currency} ${(w/1e3).toFixed(1)}k`,subtext:"Salaries & Ops",icon:_,color:"bg-rose-600",delay:.2}),e.jsx(h,{title:"Runway",value:`${c.runway||0} Mo`,subtext:"Burn rate based",icon:he,color:"bg-amber-600",delay:.3})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Cash Flow"}),e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Revenue vs Expenditure"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-4 text-[11px] font-semibold text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"}),"Income"]}),l.subscription?.plan!=="Basic"&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),"Expenses"]})]}),e.jsxs("select",{className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 p-2 outline-none",children:[e.jsx("option",{children:"This Year"}),e.jsx("option",{children:"Last Year"})]})]})]}),e.jsx("div",{className:"h-[350px] w-full",children:k.length>0?e.jsx(G,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(je,{data:k,margin:{top:10,right:10,left:-20,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f43f5e",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:0})]})]}),e.jsx(Ne,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(ye,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:600},dy:10}),e.jsx(ve,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:600},tickFormatter:s=>`${s/1e3}k`}),e.jsx(I,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx(Y,{type:"monotone",dataKey:"revenue",stroke:"#4f46e5",strokeWidth:3,fill:"url(#colorIncome)"}),l.subscription?.plan!=="Basic"&&e.jsx(Y,{type:"monotone",dataKey:"expenses",stroke:"#f43f5e",strokeWidth:3,fill:"url(#colorExpense)"})]})}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-slate-400 font-medium text-sm",children:"No data available"})})]}),l.subscription?.plan!=="Basic"&&e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:"Expenses"}),e.jsx("p",{className:"text-xs font-medium text-slate-500 mb-6",children:"By Category"}),e.jsxs("div",{className:"h-64 relative w-full mb-6",children:[e.jsx(G,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(ke,{children:[e.jsx(we,{data:b,innerRadius:60,outerRadius:80,paddingAngle:4,dataKey:"value",cornerRadius:4,children:b.map((s,o)=>e.jsx(Ce,{fill:E[o%E.length]},`cell-${o}`))}),e.jsx(I,{})]})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col pointer-events-none",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Total"}),e.jsxs("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:[(w/1e3).toFixed(0),"k"]})]})]}),e.jsx("div",{className:"space-y-3",children:(b||[]).map((s,o)=>e.jsxs("div",{className:"flex justify-between items-center text-xs font-medium",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E[o%E.length]}}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:s.name})]}),e.jsxs("span",{className:"text-slate-900 dark:text-white uppercase",children:[l.currency," ",s.value.toLocaleString()]})]},o))})]})]})]},"overview"),d==="collections"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(h,{title:"Total Collected",value:`${l.currency} ${((c.total_revenue||0)/1e3).toFixed(1)}k`,subtext:"Total revenue",icon:P,color:"bg-emerald-600"}),e.jsx(h,{title:"Expected Fees",value:`${l.currency} ${((c.expected_fees||0)/1e3).toFixed(1)}k`,subtext:"Total billings",icon:pe,color:"bg-blue-600"}),e.jsx(h,{title:"Outstanding",value:`${l.currency} ${((c.fees_arrears||0)/1e3).toFixed(1)}k`,subtext:"Unpaid total",icon:_,color:"bg-red-600"}),e.jsx(h,{title:"Collection Rate",value:`${c.collection_rate||0}%`,subtext:"Target: 85%",icon:ue,color:"bg-violet-600"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Recent Collections"}),e.jsx("p",{className:"text-xs font-medium text-slate-500 mt-1",children:"Real-time ledger of incoming fee payments"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(V,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{placeholder:"Search by student, admission or ref...",className:"pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 outline-none w-full sm:w-64 focus:ring-2 focus:ring-indigo-500/20 transition-all",value:x,onChange:s=>F(s.target.value)})]}),e.jsxs(N,{variant:"outline",className:"h-9 px-3 text-xs font-semibold",children:[e.jsx(be,{size:14,className:"mr-2"})," Filter"]}),e.jsxs(N,{variant:"primary",className:"h-9 px-4 text-xs font-semibold bg-indigo-600 border-none shadow-sm",children:[e.jsx(T,{size:14,className:"mr-2"})," Record Payment"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("tr",{className:"text-[11px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Student"}),e.jsx("th",{className:"px-6 py-4",children:"Reference"}),e.jsx("th",{className:"px-6 py-4",children:"Amount"}),e.jsx("th",{className:"px-6 py-4",children:"Channel"}),e.jsx("th",{className:"px-6 py-4",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:(f||[]).length>0?f.map((s,o)=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-indigo-600 font-bold text-xs ring-1 ring-slate-200 dark:ring-slate-700",children:s.student[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:s.student}),e.jsxs("p",{className:"text-[10px] font-medium text-slate-500",children:["ADM: ",s.admission_no]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-mono font-medium text-slate-500 bg-slate-50/50 dark:bg-slate-800/50 px-2 py-1 rounded-md border border-slate-100 dark:border-slate-800",children:s.reference})}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-emerald-600",children:[l.currency," ",s.amount.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${s.method==="MPESA"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-blue-50 text-blue-600 border border-blue-100"}`,children:s.method})}),e.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500",children:s.date}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1 text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100",children:[e.jsx(X,{size:10})," Verified"]})})]},o)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-8 py-16 text-center text-slate-400 font-medium",children:"No results found"})})})]})})]})]},"collections"),d==="expenses"&&e.jsx(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Expenditure Ledger"}),e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Detailed record of school outflows"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"primary",className:"h-9 px-4 text-xs font-semibold bg-rose-600 border-none shadow-sm",children:[e.jsx(T,{size:14,className:"mr-2"})," Record Expense"]}),e.jsxs(N,{variant:"outline",className:"h-9 px-3 text-xs font-semibold",children:[e.jsx(ge,{size:14,className:"mr-2"})," Export"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("tr",{className:"text-[11px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Title"}),e.jsx("th",{className:"px-6 py-4",children:"Category"}),e.jsx("th",{className:"px-6 py-4",children:"Amount"}),e.jsx("th",{className:"px-6 py-4",children:"Payee"}),e.jsx("th",{className:"px-6 py-4",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:(B||[]).map((s,o)=>e.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-semibold text-sm text-slate-900 dark:text-white",children:s.title}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500",children:s.category}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-rose-600",children:[l.currency," ",s.amount.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500",children:s.vendor||"Staff"}),e.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500",children:s.date}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("button",{className:"p-1.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(fe,{size:14})})})]},o))})]})})]})},"expenses"),d==="fee-structure"&&e.jsx(Se,{}),d==="payroll"&&e.jsx(te,{}),d==="transport"&&e.jsx(ae,{}),d==="food"&&e.jsx(le,{})]})]})};export{Re as default};
