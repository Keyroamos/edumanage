import{u as _,r as o,j as e,A as T,e as f,m as A}from"./vendor-Cr6tcs86.js";import{B as m}from"./index-iYWx273v.js";import{v as E,$ as P,x as S,aa as L,q as $,j,a4 as v,a3 as w,E as V,J as N,K as F,N as O,B}from"./ui-BBn2VFCU.js";const I=({teacher:t,onClick:l,onDelete:i})=>e.jsxs(A.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},whileHover:{y:-5},className:"bg-white dark:bg-slate-900 rounded-2xl p-4 md:p-6 shadow-sm border border-slate-100 dark:border-slate-800 cursor-pointer group hover:shadow-xl transition-all relative overflow-hidden",onClick:l,children:[e.jsx("div",{className:"absolute top-4 left-4 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:d=>{d.stopPropagation(),i&&i(d,t.id,t.full_name)},className:"p-1.5 bg-white/90 dark:bg-slate-800/90 rounded-lg text-slate-400 hover:text-red-500 shadow-sm border border-slate-100 dark:border-slate-800",children:e.jsx(N,{size:14})})}),e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("span",{className:`flex h-2.5 w-2.5 rounded-full ring-4 ring-white dark:ring-slate-900 ${t.status==="ACTIVE"?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]":t.status==="ON_LEAVE"?"bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.5)]":"bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.5)]"}`})}),e.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left gap-4",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-16 w-16 md:h-20 md:w-20 rounded-2xl bg-slate-100 dark:bg-slate-800 overflow-hidden shadow-inner group-hover:scale-105 transition-transform duration-300",children:t.avatar?e.jsx("img",{src:t.avatar,alt:t.full_name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 via-indigo-600 to-primary-600 text-white font-bold text-2xl",children:t.full_name.charAt(0)})})}),e.jsxs("div",{className:"min-w-0 w-full",children:[e.jsx("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white truncate group-hover:text-primary-600 transition-colors",children:t.full_name}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-2 mt-1",children:[e.jsx("span",{className:"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2 py-0.5 rounded-lg text-[10px] font-bold uppercase tracking-widest border border-slate-200 dark:border-slate-700/50",children:t.tsc_number||"N/A"}),e.jsx("span",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:t.role||"Teacher"})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800/30",children:[e.jsx(B,{size:16,className:"text-primary-500 shrink-0"}),e.jsxs("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 truncate",children:[t.subjects&&t.subjects.length>0?t.subjects[0]:"No Subjects",t.subjects&&t.subjects.length>1&&e.jsxs("span",{className:"text-primary-500 ml-1",children:["+",t.subjects.length-1]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("a",{href:`mailto:${t.email}`,onClick:d=>d.stopPropagation(),className:"flex items-center justify-center gap-2 py-2.5 rounded-xl bg-slate-100 dark:bg-slate-800 hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 hover:text-primary-600 dark:hover:text-primary-400 shadow-sm border border-slate-200 dark:border-slate-700/50 transition-all text-[11px] font-bold uppercase tracking-wider",children:[e.jsx(v,{size:14})," Email"]}),e.jsxs("a",{href:`tel:${t.phone}`,onClick:d=>d.stopPropagation(),className:"flex items-center justify-center gap-2 py-2.5 rounded-xl bg-slate-100 dark:bg-slate-800 hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 hover:text-emerald-600 dark:hover:text-emerald-400 shadow-sm border border-slate-200 dark:border-slate-700/50 transition-all text-[11px] font-bold uppercase tracking-wider",children:[e.jsx(w,{size:14})," Call"]})]})]})]}),M=({mode:t,setMode:l})=>e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-1 rounded-xl flex items-center",children:[e.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-lg transition-all ${t==="grid"?"bg-white dark:bg-slate-800 text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-0.5 w-4 h-4",children:[e.jsx("div",{className:"bg-current rounded-[1px]"}),e.jsx("div",{className:"bg-current rounded-[1px]"}),e.jsx("div",{className:"bg-current rounded-[1px]"}),e.jsx("div",{className:"bg-current rounded-[1px]"})]})}),e.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-lg transition-all ${t==="list"?"bg-white dark:bg-slate-800 text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e.jsxs("div",{className:"flex flex-col gap-0.5 w-4 h-4",children:[e.jsx("div",{className:"bg-current h-[2px] w-full rounded-[1px]"}),e.jsx("div",{className:"bg-current h-[2px] w-full rounded-[1px]"}),e.jsx("div",{className:"bg-current h-[2px] w-full rounded-[1px]"})]})})]}),H=()=>{const t=_(),[l,i]=o.useState([]),[d,b]=o.useState(!0),[p,k]=o.useState("grid"),[x,h]=o.useState({search:"",status:""}),[r,c]=o.useState({page:1,total:0,pages:1}),y=async()=>{l.length===0&&b(!0);try{const s=await f.get("/api/teachers/",{params:{search:x.search,status:x.status,page:r.page,per_page:p==="grid"?12:10}});i(s.data.teachers||[]),c(a=>({...a,total:s.data.total||0,pages:s.data.pages||1,page:s.data.current_page||1}))}catch(s){console.error("Error fetching teachers:",s),i([]),c(a=>({...a,total:0,pages:1,page:1}))}finally{b(!1)}},u=async(s,a,C)=>{if(s&&s.stopPropagation(),window.confirm(`Are you sure you want to delete Teacher ${C}? This will also remove their user account and cannot be undone.`))try{await f.delete(`/api/teachers/${a}/`),i(n=>n.filter(z=>z.id!==a)),c(n=>({...n,total:n.total-1}))}catch(n){alert(n.response?.data?.error||"Failed to delete teacher")}};o.useEffect(()=>{const s=setTimeout(()=>{y()},300);return()=>clearTimeout(s)},[x,r.page,p]);const g={total:r.total,active:Array.isArray(l)?l.filter(s=>s.status==="ACTIVE").length:0,onLeave:Array.isArray(l)?l.filter(s=>s.status==="ON_LEAVE").length:0};return e.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-6 md:space-y-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-4 md:pb-0 border-b md:border-none border-slate-100 dark:border-slate-800 text-center md:text-left",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Staff & Faculty"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Coordinate and manage institutional educators and leadership."})]}),e.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[e.jsxs(m,{variant:"outline",size:"md",className:"flex-1 md:flex-none h-11 rounded-xl bg-white dark:bg-slate-900 shadow-sm",onClick:()=>{},children:[e.jsx(E,{size:18,className:"mr-2"})," ",e.jsx("span",{className:"sr-only sm:not-sr-only",children:"Export"})]}),e.jsxs(m,{size:"md",onClick:()=>t("/teachers/create"),className:"flex-[2] md:flex-none h-11 rounded-xl bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-500/10 font-bold",children:[e.jsx(P,{size:20,className:"mr-2"})," Add Teacher"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-md p-5 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col md:flex-row items-center md:items-start text-center md:text-left gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 shrink-0",children:e.jsx(S,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Total"}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white leading-none",children:g.total})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-md p-5 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col md:flex-row items-center md:items-start text-center md:text-left gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-50 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 shrink-0",children:e.jsx(L,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Active"}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white leading-none",children:g.active})]})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1 bg-white dark:bg-slate-900/50 backdrop-blur-md p-5 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col md:flex-row items-center md:items-start text-center md:text-left gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-50 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 shrink-0",children:e.jsx($,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase tracking-widest mb-1",children:"On Leave"}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white leading-none",children:g.onLeave})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900/80 backdrop-blur-xl p-3 md:p-4 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-lg flex flex-col md:flex-row gap-3 md:gap-4 justify-between items-center sticky top-4 z-20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row flex-1 gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:max-w-md",children:[e.jsx(j,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find staff members...",className:"w-full pl-12 pr-4 py-2.5 rounded-xl bg-slate-100 dark:bg-slate-800/50 border-2 border-transparent focus:border-indigo-500/30 focus:bg-white dark:focus:bg-slate-900 transition-all text-sm font-semibold placeholder:text-slate-400 dark:text-white",value:x.search,onChange:s=>h(a=>({...a,search:s.target.value}))})]}),e.jsxs("select",{className:"px-6 py-2.5 rounded-xl bg-slate-100 dark:bg-slate-800/50 border-2 border-transparent focus:border-indigo-500/30 text-sm font-bold text-slate-700 dark:text-slate-200 cursor-pointer appearance-none uppercase tracking-widest",value:x.status,onChange:s=>h(a=>({...a,status:s.target.value})),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"on_leave",children:"On Leave"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-between md:justify-end",children:[e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:[l.length," Professionals"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700/50 hidden md:block"}),e.jsx(M,{mode:p,setMode:k})]})]})]}),l.length>0?e.jsxs(e.Fragment,{children:[p==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-8",children:e.jsx(T,{mode:"popLayout",children:l.map((s,a)=>e.jsx(I,{teacher:s,onClick:()=>t(`/teachers/${s.id}`),onDelete:u},s.id))})}):e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Teacher"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:"Role & Subjects"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden md:table-cell",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:l.map(s=>e.jsxs("tr",{onClick:()=>t(`/teachers/${s.id}`),className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden",children:s.avatar?e.jsx("img",{src:s.avatar,alt:"",className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-indigo-100 text-indigo-600 font-bold text-sm",children:s.full_name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:s.full_name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["TSC: ",s.tsc_number]})]})]})}),e.jsxs("td",{className:"px-6 py-4 hidden sm:table-cell",children:[e.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-medium",children:s.role||"Teacher"}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5 truncate max-w-[200px]",children:s.subjects?.join(", ")})]}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-0.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{size:12})," ",s.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{size:12})," ",s.phone]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-bold ${s.status==="ACTIVE"?"bg-green-100 text-green-700":s.status==="ON_LEAVE"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:a=>a.stopPropagation(),children:[e.jsx("button",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-400 hover:text-primary-600",children:e.jsx(V,{size:16})}),e.jsx("button",{onClick:a=>u(a,s.id,s.full_name),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-slate-400 hover:text-red-600 transition-colors",children:e.jsx(N,{size:16})})]})})]},s.id))})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-8 border-t border-slate-200 dark:border-slate-800",children:[e.jsxs("p",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest",children:["Page ",r.page," ",e.jsx("span",{className:"text-slate-200 dark:text-slate-700 mx-2",children:"/"})," ",r.pages]}),e.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[e.jsxs(m,{variant:"secondary",size:"sm",disabled:r.page<=1,onClick:()=>c(s=>({...s,page:s.page-1})),className:"flex-1 sm:flex-none h-10 px-6 rounded-xl border-slate-200 dark:border-slate-800 text-xs font-bold uppercase tracking-widest",children:[e.jsx(F,{size:16,className:"mr-1"})," Prev"]}),e.jsxs(m,{variant:"secondary",size:"sm",disabled:r.page>=r.pages,onClick:()=>c(s=>({...s,page:s.page+1})),className:"flex-1 sm:flex-none h-10 px-6 rounded-xl border-slate-200 dark:border-slate-800 text-xs font-bold uppercase tracking-widest",children:["Next ",e.jsx(O,{size:16,className:"ml-1"})]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800 text-center",children:[e.jsx("div",{className:"h-20 w-20 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center shadow-sm mb-6",children:e.jsx(j,{size:40,className:"text-slate-300 dark:text-slate-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"No Teachers Found"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 max-w-md",children:"We couldn't find any teachers matching your search. Try adjusting filters or add a new teacher."}),e.jsx(m,{onClick:()=>h({search:"",status:""}),className:"mt-6",variant:"secondary",children:"Clear Filters"})]})]})};export{H as default};
