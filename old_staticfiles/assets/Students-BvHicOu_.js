import{r as i,j as e,A as $,m as b,e as N,u as D}from"./vendor-Cr6tcs86.js";import{B as h,z as k}from"./index-eBdLMQe5.js";import{F as M,X as L,I as O,v as A,w as G,x as U,i as R,y as _,U as w,W as z,k as F,z as W,E as q,J as V,K as I,N as H,O as J,G as K}from"./ui-kKL2mqtN.js";const X=({isOpen:s,onClose:o,onRefresh:x})=>{const[r,y]=i.useState(null),[v,f]=i.useState(!1),[n,j]=i.useState(null),m=c=>{const a=c.target.files[0];if(a){if(!a.name.endsWith(".xlsx")&&!a.name.endsWith(".xls")){k.error("Please upload an Excel file (.xlsx or .xls)");return}y(a),j(null)}},g=async()=>{if(!r){k.error("Please select a file first");return}f(!0);const c=new FormData;c.append("file",r);try{const a=await N.post("/api/students/bulk-import/",c,{headers:{"Content-Type":"multipart/form-data"}});a.data.success&&(j(a.data.summary),k.success(`Successfully imported ${a.data.summary.imported} students!`),x&&x())}catch(a){console.error("Import error:",a);const p=a.response?.data?.error||"Failed to import students";k.error(p)}finally{f(!1)}},l=async()=>{try{const c=await N.get("/api/students/template/",{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([c.data])),p=document.createElement("a");p.href=a,p.setAttribute("download","student_template.xlsx"),document.body.appendChild(p),p.click(),p.remove()}catch(c){console.error("Download error:",c),k.error("Failed to download template")}};return s?e.jsx($,{children:e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),e.jsxs(b.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white dark:bg-slate-900 rounded-3xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center text-primary-600 dark:text-primary-400",children:e.jsx(M,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Bulk Student Admission"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Import student records from Excel"})]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx(L,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:"p-6",children:n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-800/50 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-emerald-500 text-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-emerald-500/20",children:e.jsx(U,{size:32})}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Import Completed!"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Total Rows"}),e.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:n.total})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Imported"}),e.jsx("p",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:n.imported})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Skipped/Failed"}),e.jsx("p",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:n.skipped})]})]})]}),n.errors&&n.errors.length>0&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-red-600 dark:text-red-400",children:[e.jsx(R,{size:18}),e.jsxs("p",{className:"text-sm font-bold uppercase tracking-wider",children:["Issues Encountered (",n.errors.length,")"]})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto custom-scrollbar space-y-2",children:n.errors.map((c,a)=>e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-800 rounded-lg border border-slate-100 dark:border-slate-700",children:c},a))})]}),e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(h,{onClick:o,className:"px-12 rounded-full",children:"Done"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/10 border border-primary-100 dark:border-primary-800/50 rounded-2xl p-4 flex gap-4",children:[e.jsx(O,{className:"text-primary-500 shrink-0",size:20}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold text-primary-900 dark:text-primary-300 mb-1",children:"Important Instructions"}),e.jsxs("ul",{className:"text-primary-700 dark:text-primary-400 space-y-1 list-disc ml-4",children:[e.jsx("li",{children:"Use the official template for best results."}),e.jsxs("li",{children:["Columns: ",e.jsx("b",{children:"First Name"}),", ",e.jsx("b",{children:"Last Name"}),", and ",e.jsx("b",{children:"Grade"})," are required."]}),e.jsx("li",{children:"System will create user accounts automatically for each student."}),e.jsx("li",{children:"Admission fees will be recorded as cash payments by default."})]})]})]}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-3xl p-10 flex flex-col items-center justify-center transition-all ${r?"border-primary-500 bg-primary-50/20 dark:bg-primary-900/10":"border-slate-200 dark:border-slate-800 hover:border-primary-400"}`,children:[e.jsx("input",{type:"file",onChange:m,className:"absolute inset-0 opacity-0 cursor-pointer",accept:".xlsx,.xls"}),e.jsx("div",{className:`h-16 w-16 rounded-2xl flex items-center justify-center mb-4 transition-transform ${r?"bg-primary-500 text-white scale-110":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:e.jsx(A,{size:32})}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:r?r.name:"Click or drag Excel file here"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Only .xlsx or .xls files supported"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs(h,{variant:"outline",onClick:l,children:[e.jsx(G,{size:18,className:"mr-2"}),"Download Template"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(h,{variant:"ghost",onClick:o,children:"Cancel"}),e.jsx(h,{onClick:g,disabled:!r||v,isLoading:v,children:v?"Importing Students...":"Start Import"})]})]})]})})]})]})}):null},Q=({children:s,variant:o="gray",className:x=""})=>{const r={gray:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",green:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",red:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",blue:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",yellow:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",purple:"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400"};return e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${r[o]} ${x}`,children:s})},Y=({student:s,onClick:o})=>e.jsxs(b.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{y:-5},onClick:o,className:"group relative bg-white dark:bg-slate-900 rounded-2xl p-4 md:p-6 shadow-sm border border-slate-100 dark:border-slate-800 hover:shadow-xl hover:border-primary-200 dark:hover:border-primary-800 transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-primary-50 dark:bg-primary-900/10 rounded-full blur-3xl -mr-12 -mt-12 md:-mr-16 md:-mt-16 transition-opacity group-hover:opacity-75"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-3 md:mb-4",children:[e.jsx("div",{className:"h-16 w-16 md:h-24 md:w-24 rounded-xl md:rounded-2xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/40 dark:to-slate-800 text-primary-600 dark:text-primary-400 flex items-center justify-center text-xl md:text-3xl font-bold shadow-inner overflow-hidden",children:s.photo?e.jsx("img",{src:s.photo,alt:s.full_name,className:"w-full h-full object-cover"}):s.full_name.charAt(0)}),e.jsx("div",{className:`absolute -bottom-1 -right-1 md:-bottom-2 md:-right-2 p-1 md:p-1.5 rounded-full bg-white dark:bg-slate-900 border-2 border-white dark:border-slate-900 shadow-sm ${s.balance>0?"text-red-500":"text-green-500"}`,children:s.balance>0?e.jsx(z,{size:12,className:"md:w-[14px] md:h-[14px]",fill:"currentColor"}):e.jsx(K,{size:12,className:"md:w-[14px] md:h-[14px]",fill:"currentColor"})})]}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-slate-900 dark:text-white text-center mb-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors line-clamp-1",children:s.full_name}),e.jsxs("p",{className:"text-[10px] md:text-xs font-mono text-slate-500 dark:text-slate-400 mb-3 md:mb-4 bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 md:px-2 md:py-1 rounded",children:["#",s.admission_number]}),e.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-3 w-full mb-4",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-2.5 rounded-xl text-center",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:"Grade"}),e.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:s.grade})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-2.5 rounded-xl text-center",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:"Gender"}),e.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:s.gender==="M"?"M":"F"})]})]}),e.jsxs("div",{className:"flex md:hidden items-center justify-center gap-2 mb-3 text-[10px] font-bold text-slate-500",children:[e.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded",children:["G: ",s.grade]}),e.jsx("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded",children:s.gender==="M"?"Male":"Female"})]}),e.jsxs("div",{className:`w-full py-1.5 md:py-2 px-2 md:px-3 rounded-lg md:rounded-xl flex items-center justify-between text-[10px] md:text-xs font-medium ${s.balance>0?"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-300":"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-300"}`,children:[e.jsx("span",{className:"hidden xs:inline",children:"Balance"}),e.jsx("span",{className:"font-bold",children:s.balance>0?`-$${s.balance.toLocaleString()}`:"Paid"})]}),e.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:e.jsx("button",{onClick:x=>{x.stopPropagation(),onDelete&&onDelete(x,s.id)},className:"p-1.5 bg-white/90 dark:bg-slate-800/90 rounded-lg text-slate-400 hover:text-red-600 shadow-sm border border-slate-100 dark:border-slate-700",children:e.jsx(I,{size:14})})})]})]}),se=()=>{const s=D(),[o,x]=i.useState("grid"),[r,y]=i.useState([]),[v,f]=i.useState(!0),[n,j]=i.useState({search:"",grade:"",status:""}),[m,g]=i.useState({page:1,total:0,pages:1}),[l,c]=i.useState({fully_paid:"-",male_count:0,female_count:0}),[a,p]=i.useState(!1),C=async()=>{r.length===0&&f(!0);try{const t=await N.get("/api/students/",{params:{...n,page:m.page}});y(t.data.students),t.data.stats&&c(t.data.stats),g(d=>({...d,total:t.data.total,pages:t.data.pages,page:t.data.current_page}))}catch(t){console.error("Error fetching students:",t)}finally{f(!1)}},S=async(t,d)=>{if(t&&t.stopPropagation(),window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await N.delete(`/api/students/${d}/`),y(u=>u.filter(T=>T.id!==d)),g(u=>({...u,total:u.total-1}))}catch(u){console.error("Error deleting student:",u),alert("Failed to delete student. Please try again.")}},[E,B]=i.useState([]);i.useEffect(()=>{(async()=>{try{const d=await N.get("/api/grades/");B(d.data.grades)}catch(d){console.error("Error fetching grades:",d)}})()},[]),i.useEffect(()=>{const t=setTimeout(()=>{C()},300);return()=>clearTimeout(t)},[n,m.page]);const P={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-center md:justify-end gap-3",children:e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs(h,{variant:"outline",onClick:()=>p(!0),className:"w-full md:w-auto",children:[e.jsx(A,{size:18,className:"mr-2"}),"Bulk Admission"]}),e.jsxs(h,{onClick:()=>s("/students/create"),className:"w-full md:w-auto shadow-lg shadow-primary-500/20",children:[e.jsx(_,{size:18,className:"mr-2"}),"New Admission"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-600 to-blue-600 rounded-2xl p-5 text-white shadow-lg shadow-blue-500/20 group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500",children:e.jsx(w,{size:80})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-lg shadow-inner",children:e.jsx(w,{size:18,className:"text-white"})}),e.jsx("p",{className:"font-medium text-blue-100 text-sm",children:"Total Students"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h2",{className:"text-3xl font-black tracking-tight",children:m.total}),e.jsx("span",{className:"text-xs font-bold bg-white/20 px-2 py-0.5 rounded-full text-blue-50 backdrop-blur-sm",children:"Active"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-100 dark:border-slate-800 shadow-sm relative group overflow-hidden",children:[e.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500",children:e.jsx(z,{size:80,className:"text-emerald-500"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg text-emerald-600 dark:text-emerald-400",children:e.jsx(z,{size:18})}),e.jsx("p",{className:"font-medium text-slate-500 dark:text-slate-400 text-sm",children:"Fully Paid"})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:l.fully_paid}),e.jsx("span",{className:"text-xs font-semibold text-slate-400",children:"students"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-100 dark:border-slate-800 shadow-sm relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:e.jsx(w,{size:18})}),e.jsx("p",{className:"font-medium text-slate-500 dark:text-slate-400 text-sm",children:"Gender Distribution"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-100 dark:border-slate-700",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:[(l.male_count/(l.male_count+l.female_count||1)*100).toFixed(0),"%"]}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Male"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden flex shadow-inner",children:[e.jsx(b.div,{initial:{width:0},animate:{width:`${l.male_count/(l.male_count+l.female_count||1)*100}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-500"}),e.jsx(b.div,{initial:{width:0},animate:{width:`${l.female_count/(l.male_count+l.female_count||1)*100}%`},transition:{duration:1,ease:"easeOut",delay:.1},className:"h-full bg-rose-400"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]"}),e.jsxs("span",{className:"font-bold text-slate-600 dark:text-slate-300",children:[l.male_count," Boys"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-slate-600 dark:text-slate-300",children:[l.female_count," Girls"]}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-400 shadow-[0_0_8px_rgba(244,63,94,0.6)]"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-2 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col md:flex-row gap-4 items-center justify-between sticky top-4 z-20",children:[e.jsxs("div",{className:"flex flex-1 gap-2 w-full md:w-auto p-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(F,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 rounded-xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-primary-500 transition-all text-sm text-slate-900 dark:text-white placeholder-slate-400",value:n.search,onChange:t=>j(d=>({...d,search:t.target.value}))})]}),e.jsxs("select",{className:"px-4 py-2 rounded-xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-primary-500 text-sm text-slate-700 dark:text-slate-200 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",onChange:t=>j(d=>({...d,grade:t.target.value})),children:[e.jsx("option",{value:"",children:"All Grades"}),(E||[]).map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 border-l border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-lg flex items-center",children:[e.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded-md transition-all ${o==="list"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:e.jsx(W,{size:18})}),e.jsx("button",{onClick:()=>x("grid"),className:`p-2 rounded-md transition-all ${o==="grid"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:e.jsx(q,{size:18})})]}),e.jsxs(h,{variant:"ghost",size:"sm",className:"hidden md:flex",children:[e.jsx(G,{size:18,className:"mr-2"}),"Export"]})]})]}),e.jsx("div",{className:"min-h-[400px]",children:(r||[]).length>0?e.jsx($,{mode:"wait",children:o==="grid"||window.innerWidth<768?e.jsx(b.div,{variants:P,initial:"hidden",animate:"show",className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:r.map(t=>e.jsx(Y,{student:t,onClick:()=>s(`/students/${t.id}`),onDelete:S},t.id))},"grid"):e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Branch"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Gender"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Financial Status"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:r.map(t=>e.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",onClick:()=>s(`/students/${t.id}`),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/30 dark:to-slate-800 text-primary-600 dark:text-primary-400 flex items-center justify-center font-bold text-lg shadow-sm overflow-hidden",children:t.photo?e.jsx("img",{src:t.photo,alt:t.full_name,className:"w-full h-full object-cover"}):t.full_name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:t.full_name}),e.jsxs("p",{className:"text-xs font-mono text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 p-0.5 px-1.5 rounded inline-block mt-1",children:["#",t.admission_number]})]})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-slate-600 dark:text-slate-300",children:["Grade ",t.grade]}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-300",children:t.branch}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-300",children:t.gender==="M"?"Male":"Female"}),e.jsx("td",{className:"px-6 py-4",children:t.balance>0?e.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),e.jsxs("span",{className:"font-bold",children:["-$",t.balance.toLocaleString()]})]}):e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{className:"font-bold",children:"Paid"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(Q,{variant:"green",children:"Active"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-primary-600 transition-colors",children:e.jsx(V,{size:16})}),e.jsx("button",{onClick:d=>S(d,t.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-slate-400 hover:text-red-600 transition-colors",children:e.jsx(I,{size:16})})]})})]},t.id))})]})})},"list")}):e.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-3xl border border-slate-100 dark:border-slate-800 border-dashed",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(F,{className:"text-slate-300 dark:text-slate-600",size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:"No students found"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Try adjusting your filters or add a new student."}),e.jsxs(h,{variant:"primary",className:"mt-6",onClick:()=>s("/students/create"),children:[e.jsx(_,{size:18,className:"mr-2"}),"New Admission"]})]})}),e.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-white/90 dark:bg-slate-900/90 backdrop-blur shadow-xl border border-slate-100 dark:border-slate-800 rounded-full py-2 px-6 flex items-center gap-4 z-30 transform hover:scale-105 transition-transform",children:[e.jsx("button",{disabled:m.page<=1,onClick:()=>g(t=>({...t,page:t.page-1})),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full text-slate-500 disabled:opacity-50 transition-colors",children:e.jsx(H,{size:20})}),e.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 min-w-[100px] text-center",children:["Page ",m.page," of ",m.pages]}),e.jsx("button",{disabled:m.page>=m.pages,onClick:()=>g(t=>({...t,page:t.page+1})),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full text-slate-500 disabled:opacity-50 transition-colors",children:e.jsx(J,{size:20})})]}),e.jsx(X,{isOpen:a,onClose:()=>p(!1),onRefresh:C})]})};export{se as default};
